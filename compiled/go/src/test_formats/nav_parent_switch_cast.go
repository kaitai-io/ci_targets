// Code generated by kaitai-struct-compiler from a .ksy source file. DO NOT EDIT.

package test_formats

import (
	"github.com/kaitai-io/kaitai_struct_go_runtime/kaitai"
	"bytes"
)

type NavParentSwitchCast struct {
	Main *NavParentSwitchCast_Foo
	_io *kaitai.Stream
	_root *NavParentSwitchCast
	_parent kaitai.Struct
}
func NewNavParentSwitchCast() *NavParentSwitchCast {
	return &NavParentSwitchCast{
	}
}

func (this NavParentSwitchCast) IO_() *kaitai.Stream {
	return this._io
}

func (this *NavParentSwitchCast) Read(io *kaitai.Stream, parent kaitai.Struct, root *NavParentSwitchCast) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp1 := NewNavParentSwitchCast_Foo()
	err = tmp1.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.Main = tmp1
	return err
}
type NavParentSwitchCast_Foo struct {
	BufType uint8
	Flag uint8
	Buf interface{}
	_io *kaitai.Stream
	_root *NavParentSwitchCast
	_parent *NavParentSwitchCast
	_raw_Buf []byte
}
func NewNavParentSwitchCast_Foo() *NavParentSwitchCast_Foo {
	return &NavParentSwitchCast_Foo{
	}
}

func (this NavParentSwitchCast_Foo) IO_() *kaitai.Stream {
	return this._io
}

func (this *NavParentSwitchCast_Foo) Read(io *kaitai.Stream, parent *NavParentSwitchCast, root *NavParentSwitchCast) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp2, err := this._io.ReadU1()
	if err != nil {
		return err
	}
	this.BufType = tmp2
	tmp3, err := this._io.ReadU1()
	if err != nil {
		return err
	}
	this.Flag = tmp3
	switch (this.BufType) {
	case 0:
		tmp4, err := this._io.ReadBytes(int(4))
		if err != nil {
			return err
		}
		tmp4 = tmp4
		this._raw_Buf = tmp4
		_io__raw_Buf := kaitai.NewStream(bytes.NewReader(this._raw_Buf))
		tmp5 := NewNavParentSwitchCast_Foo_Zero()
		err = tmp5.Read(_io__raw_Buf, this, this._root)
		if err != nil {
			return err
		}
		this.Buf = tmp5
	case 1:
		tmp6, err := this._io.ReadBytes(int(4))
		if err != nil {
			return err
		}
		tmp6 = tmp6
		this._raw_Buf = tmp6
		_io__raw_Buf := kaitai.NewStream(bytes.NewReader(this._raw_Buf))
		tmp7 := NewNavParentSwitchCast_Foo_One()
		err = tmp7.Read(_io__raw_Buf, this, this._root)
		if err != nil {
			return err
		}
		this.Buf = tmp7
	default:
		tmp8, err := this._io.ReadBytes(int(4))
		if err != nil {
			return err
		}
		tmp8 = tmp8
		this._raw_Buf = tmp8
	}
	return err
}
type NavParentSwitchCast_Foo_Common struct {
	_io *kaitai.Stream
	_root *NavParentSwitchCast
	_parent kaitai.Struct
	_f_flag bool
	flag uint8
}
func NewNavParentSwitchCast_Foo_Common() *NavParentSwitchCast_Foo_Common {
	return &NavParentSwitchCast_Foo_Common{
	}
}

func (this NavParentSwitchCast_Foo_Common) IO_() *kaitai.Stream {
	return this._io
}

func (this *NavParentSwitchCast_Foo_Common) Read(io *kaitai.Stream, parent kaitai.Struct, root *NavParentSwitchCast) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	return err
}
func (this *NavParentSwitchCast_Foo_Common) Flag() (v uint8, err error) {
	if (this._f_flag) {
		return this.flag, nil
	}
	this._f_flag = true
	this.flag = uint8(this._parent._parent.(*NavParentSwitchCast_Foo).Flag)
	return this.flag, nil
}
type NavParentSwitchCast_Foo_One struct {
	Branch *NavParentSwitchCast_Foo_Common
	_io *kaitai.Stream
	_root *NavParentSwitchCast
	_parent *NavParentSwitchCast_Foo
}
func NewNavParentSwitchCast_Foo_One() *NavParentSwitchCast_Foo_One {
	return &NavParentSwitchCast_Foo_One{
	}
}

func (this NavParentSwitchCast_Foo_One) IO_() *kaitai.Stream {
	return this._io
}

func (this *NavParentSwitchCast_Foo_One) Read(io *kaitai.Stream, parent *NavParentSwitchCast_Foo, root *NavParentSwitchCast) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp9 := NewNavParentSwitchCast_Foo_Common()
	err = tmp9.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.Branch = tmp9
	return err
}
type NavParentSwitchCast_Foo_Zero struct {
	Branch *NavParentSwitchCast_Foo_Common
	_io *kaitai.Stream
	_root *NavParentSwitchCast
	_parent *NavParentSwitchCast_Foo
}
func NewNavParentSwitchCast_Foo_Zero() *NavParentSwitchCast_Foo_Zero {
	return &NavParentSwitchCast_Foo_Zero{
	}
}

func (this NavParentSwitchCast_Foo_Zero) IO_() *kaitai.Stream {
	return this._io
}

func (this *NavParentSwitchCast_Foo_Zero) Read(io *kaitai.Stream, parent *NavParentSwitchCast_Foo, root *NavParentSwitchCast) (err error) {
	this._io = io
	this._parent = parent
	this._root = root

	tmp10 := NewNavParentSwitchCast_Foo_Common()
	err = tmp10.Read(this._io, this, this._root)
	if err != nil {
		return err
	}
	this.Branch = tmp10
	return err
}
